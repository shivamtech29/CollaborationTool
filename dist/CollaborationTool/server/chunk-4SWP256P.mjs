import './polyfills.server.mjs';
import{c as we}from"./chunk-6PTZKNVF.mjs";import{F as k,H as Ie,O as Se,W as y,Y as Pe,b as S,c as f,e as P,f as E,ga as F,h as Ce,ha as Ee,ia as R,j as O,ja as j,k as D,ka as Oe,l as L,m as A,n as T,o as W,p as Me,pa as z,q as v,qa as De,r as xe,ra as N,sa as Le}from"./chunk-TUQYYV3S.mjs";import{Ca as X,E as oe,Fb as pe,H as x,Ha as c,I as m,Ia as a,Ja as d,K as C,Ka as ae,La as ne,M as p,N as h,Na as de,O as U,Qb as ue,R as re,Ra as _,S as ce,Sb as J,Ta as se,Ua as H,Va as I,Wb as fe,Xa as Y,Ya as s,Yb as ge,ec as be,gc as _e,hb as $,i as ie,ic as ve,ja as V,jb as le,kb as Z,kc as b,lb as me,lc as ke,mc as ye,na as w,nc as K,oa as n,ta as G,wa as u,ya as Q,zb as he}from"./chunk-F5ZWKEPV.mjs";var Ae="https://stackoverflow-spring.b7b0cfd.kyma.ondemand.com/",Te="Authorization",B=(()=>{let e=class e{constructor(o,i){this.http=o,this.storage=i}signup(o){return this.http.post(Ae+"signup",o)}login(o,i){return this.http.post(Ae+"auth",{email:o,password:i},{observe:"response"}).pipe(oe(r=>this.log("user Authentication")),ie(r=>{this.storage.saveUser(r.body);let l=r.headers.get(Te).length,M=r.headers.get(Te).substring(7,l);return this.storage.saveToken(M),r}))}log(o){console.log("User Auth Service : "+o)}};e.\u0275fac=function(i){return new(i||e)(C(ue),C(v))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var je=(()=>{let e=class e{constructor(o,i,r,l){this.formBuilder=o,this.authService=i,this.snackkBar=r,this.router=l}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",f.required],password:["",f.required]})}login(){this.authService.login(this.loginForm.get("email")?.value,this.loginForm.get("password")?.value).subscribe(o=>{this.router.navigateByUrl("/user/dashboard")},o=>{this.snackkBar.open("Bad credentials","close",{duration:5e3,panelClass:["error-snackbar"]})})}};e.\u0275fac=function(i){return new(i||e)(n(T),n(B),n(F),n(b))},e.\u0275cmp=p({type:e,selectors:[["app-login"]],decls:20,vars:2,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","https://cdnjs.cloudflare.com/ajax/libs/angular-material/1.1.12/angular-material.min.css","rel","stylesheet"],[1,"signup-container"],[1,"signup-card"],[1,"signup-caption"],[3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Email","formControlName","email","required",""],["matInput","","placeholder","Password","type","password","formControlName","password","required",""],["mat-raised-button","","color","primary",1,"signup-button",3,"disabled","click"]],template:function(i,r){i&1&&(c(0,"html",0)(1,"head"),d(2,"meta",1)(3,"meta",2),c(4,"title"),s(5,"Login Page"),a(),d(6,"link",3),a(),c(7,"body")(8,"div",4)(9,"mat-card",5)(10,"mat-card-content")(11,"h2",6),s(12,"Login"),a(),c(13,"form",7)(14,"mat-form-field",8),d(15,"input",9),a(),c(16,"mat-form-field",8),d(17,"input",10),a(),c(18,"button",11),_("click",function(){return r.login()}),s(19," Login "),a()()()()()()()),i&2&&(w(13),u("formGroup",r.loginForm),w(5),u("disabled",r.loginForm.invalid))},dependencies:[y,R,j,z,N,O,S,P,E,A,D,L],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f0f2f5}.signup-container[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem;display:flex;justify-content:center;align-items:center}.signup-card[_ngcontent-%COMP%]{width:100%;padding:2rem;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px;text-align:center}.signup-caption[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;font-size:1.5rem;font-weight:700}.full-width[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.mat-input-element[_ngcontent-%COMP%]{padding:12px 16px;font-size:1rem}.mat-form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{padding:12px 16px}.mat-form-field.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{font-size:1rem}.signup-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.signup-button[_ngcontent-%COMP%]:disabled{background-color:#dad3d3;cursor:not-allowed}.signup-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}@media (max-width: 480px){.signup-container[_ngcontent-%COMP%], .signup-card[_ngcontent-%COMP%]{padding:1rem}.signup-caption[_ngcontent-%COMP%]{font-size:1.25rem}.signup-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.875rem}}"]});let t=e;return t})();var ze=(()=>{let e=class e{constructor(o,i,r,l){this.formBuilder=o,this.authService=i,this.snackkBar=r,this.router=l}ngOnInit(){this.signupForm=this.formBuilder.group({name:["",f.required],email:["",f.required],password:["",f.required],confirmPassword:new Ce("",f.compose([f.required]))},{validators:this.confirmateValidation})}confirmateValidation(o){let i=o.get("password")?.value,r=o.get("confirmPassword")?.value;i!=r?o.get("confirmPassword")?.setErrors({passwordMismatch:!0}):o.get("confirmPassword")?.setErrors(null)}signup(){console.log(this.signupForm?.value),this.authService.signup(this.signupForm?.value).subscribe(o=>{console.log(o),o.id!=null?(this.snackkBar.open("You're registered successfuly!","close",{duration:5e3}),this.router.navigateByUrl("/login")):this.snackkBar.open(o.message,"close",{duration:5e3})},o=>{this.snackkBar.open("Registration failed, Please try again later","close",{duration:5e3})})}};e.\u0275fac=function(i){return new(i||e)(n(T),n(B),n(F),n(b))},e.\u0275cmp=p({type:e,selectors:[["app-signup"]],decls:21,vars:2,consts:[[1,"signup-container"],[1,"signup-card"],[1,"signup-caption"],[3,"formGroup"],[1,"form-input"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Email","name","email","type","email","required","","formControlName","email"],["matInput","","placeholder","Username","name","name","required","","formControlName","name"],["matInput","","placeholder","Password","name","password","type","password","required","","formControlName","password","autocomplete","new-password"],["matInput","","placeholder","Confirm password","name","confirmPassword","type","password","required","","formControlName","confirmPassword","autocomplete","new-password"],["mat-raised-button","","color","primary",1,"signup-button",3,"disabled","click"]],template:function(i,r){i&1&&(c(0,"body")(1,"div",0)(2,"mat-card",1)(3,"mat-card-content")(4,"h2",2),s(5,"Sign Up"),a(),c(6,"form",3)(7,"div",4)(8,"mat-form-field",5),d(9,"input",6),a()(),c(10,"div",4)(11,"mat-form-field",5),d(12,"input",7),a()(),c(13,"div",4)(14,"mat-form-field",5),d(15,"input",8),a()(),c(16,"div",4)(17,"mat-form-field",5),d(18,"input",9),a()(),c(19,"button",10),_("click",function(){return r.signup()}),s(20," Signup "),a()()()()()()),i&2&&(w(6),u("formGroup",r.signupForm),w(13),u("disabled",r.signupForm.invalid))},dependencies:[y,R,j,z,N,O,S,P,E,A,D,L],styles:["body[_ngcontent-%COMP%]{background-color:#f0f2f5}.signup-container[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem;margin:0 auto;display:flex;justify-content:center;align-items:center}.signup-card[_ngcontent-%COMP%]{width:100%;padding:2rem;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px;text-align:center}.signup-caption[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;font-size:1.5rem;font-weight:700}.full-width[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.mat-form-field-appearance-outline[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{border-color:#007bff}.mat-form-field-appearance-outline.mat-focused[_ngcontent-%COMP%]   .mat-form-field-outline-thick[_ngcontent-%COMP%]{border-width:2px}.signup-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;background-color:#007bff;color:#fff;font-size:1rem;cursor:pointer;transition:background-color .3s ease}.signup-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.signup-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}"]});let t=e;return t})();var te=(()=>{let e=class e{constructor(o){this.router=o}canActivate(o,i){return v.hasToken()?(this.router.navigateByUrl("/user/dashboard"),!1):!0}};e.\u0275fac=function(i){return new(i||e)(C(b))},e.\u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Je=[{path:"login",component:je,canActivate:[te]},{path:"signup",component:ze,canActivate:[te]},{path:"user",loadChildren:()=>import("./chunk-TCSVR7J7.mjs").then(t=>t.UserModule)}],Ne=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({imports:[K.forRoot(Je),K]});let t=e;return t})();var Ke=["*",[["mat-toolbar-row"]]],We=["*","mat-toolbar-row"],et=Ie(class{constructor(t){this._elementRef=t}}),tt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=U({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});let t=e;return t})(),Be=(()=>{let e=class e extends et{constructor(o,i,r){super(o),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(i){return new(i||e)(n(V),n(xe),n(he))},e.\u0275cmp=p({type:e,selectors:[["mat-toolbar"]],contentQueries:function(i,r,l){if(i&1&&le(l,tt,5),i&2){let M;$(M=Z())&&(r._toolbarRows=M)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){i&2&&Q("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0)},inputs:{color:"color"},exportAs:["matToolbar"],features:[G],ngContentSelectors:We,decls:2,vars:0,template:function(i,r){i&1&&(H(Ke),I(0),I(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var qe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({imports:[k,k]});let t=e;return t})();function ot(t,e){t&1&&(ae(0),c(1,"mat-toolbar",2),d(2,"img",3)(3,"span",4),c(4,"button",5),s(5,"Login"),a(),c(6,"button",6),s(7,"Signup"),a()(),ne())}function rt(t,e){if(t&1){let Qe=de();c(0,"mat-toolbar",2),d(1,"img",3)(2,"span",4),c(3,"button",7),s(4,"Dashboard"),a(),c(5,"button",8),s(6,"Xchange AI"),a(),c(7,"button",9),s(8,"Post Question"),a(),c(9,"button",10),s(10,"My questions"),a(),c(11,"button",11),_("click",function(){re(Qe);let i=se();return ce(i.logout())}),s(12,"Logout"),a()()}}var q=(()=>{let e=class e{constructor(o){this.router=o,this.title="CollaborationTool"}ngOnInit(){this.updateUserLoggedInStatus(),this.router.events.subscribe(o=>{o instanceof _e&&this.updateUserLoggedInStatus()})}updateUserLoggedInStatus(){this.isUserLoggedIn=v.isUserLoggedIn()}logout(){v.logout(),this.router.navigateByUrl("/login")}};e.\u0275fac=function(i){return new(i||e)(n(b))},e.\u0275cmp=p({type:e,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loggedInToolbar",""],["color","primary",1,"navbar"],["src","https://cdn.sstatic.net/Sites/stackoverflow/company/Img/logos/se/se-logo.svg?v=d29f0785ebb7","alt","Stackexchange logo",1,"logo"],[1,"spacer"],["mat-button","","routerLink","/login","routerLinkActive","active"],["mat-button","","routerLink","/signup","routerLinkActive","active"],["mat-button","","routerLink","/user/dashboard","routerLinkActive","active"],["mat-button","","routerLink","/user/ai-help","routerLinkActive","active"],["mat-button","","routerLink","/user/question","routerLinkActive","active"],["mat-button","","routerLink","/user/my_questions","routerLinkActive","active"],["mat-button","","routerLinkActive","active",3,"click"]],template:function(i,r){if(i&1&&(X(0,ot,8,0,"ng-container",0)(1,rt,13,0,"ng-template",null,1,me),d(3,"router-outlet")),i&2){let l=Y(2);u("ngIf",!r.isUserLoggedIn)("ngIfElse",l)}},dependencies:[pe,ve,ke,ye,Be,y],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:16px}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background-color:#00aeffec;color:#fff}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5em;font-weight:500;margin-right:16px}.spacer[_ngcontent-%COMP%]{flex:1}button[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;margin-left:8px}button.active[_ngcontent-%COMP%]{font-weight:600}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{background-color:#006899ec}.custom-toolbar[_ngcontent-%COMP%]{background-color:#00aeffec}footer[_ngcontent-%COMP%]{position:sticky;left:0;bottom:0;width:100%;background-color:#f8f9fa;color:#000;text-align:center}.logo[_ngcontent-%COMP%]{width:20%;height:auto}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:start}.navbar-brand[_ngcontent-%COMP%]{margin-bottom:16px}button[_ngcontent-%COMP%]{margin-left:0;margin-top:8px}}"]});let t=e;return t})();var Ue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({});let t=e;return t})(),Ve=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({imports:[Ue,k,Se,Ue,k]});let t=e;return t})();var Ge=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e,bootstrap:[q]}),e.\u0275inj=m({providers:[ge()],imports:[fe,Ne,be,Ve,qe,Pe,Oe,De,Le,J,W,Me,Ee,W,J]});let t=e;return t})();var ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e,bootstrap:[q]}),e.\u0275inj=m({imports:[Ge,we]});let t=e;return t})();export{ct as a};
