import './polyfills.server.mjs';
import{c as _e}from"./chunk-IP2IGRWD.mjs";import{F as y,H as Ee,O as Se,W as k,Y as De,b as E,c as f,e as S,f as D,ga as P,h as xe,ha as Le,ia as j,j as L,ja as O,k as A,ka as Ae,l as T,la as N,m as R,n as F,o as ee,p as Me,pa as B,q as v,qa as Te,r as Ie,ra as z,sa as Re}from"./chunk-OSYTM73Q.mjs";import{Ba as H,D as re,Eb as ue,G as M,Ga as a,H as m,Ha as c,Ia as d,J as C,Ja as ne,Ka as se,L as p,M as h,Ma as de,N as U,Pb as fe,Q as ce,Qa as _,R as ae,Rb as K,Sa as le,Ta as Y,Ua as I,Vb as ge,Wa as $,Xa as n,Xb as be,dc as we,fc as ve,gb as Z,hc as ye,i as oe,ia as G,ib as me,jb as J,jc as b,kb as he,kc as ke,lc as Ce,ma as w,mc as W,na as s,sa as Q,va as u,xa as X,yb as pe}from"./chunk-D6ETKAET.mjs";var Fe="http://localhost:5000/",Pe="Authorization",q=(()=>{let e=class e{constructor(o,i){this.http=o,this.storage=i}signup(o){return this.http.post(Fe+"signup",o)}login(o,i){return this.http.post(Fe+"auth",{email:o,password:i},{observe:"response"}).pipe(re(r=>this.log("user Authentication")),oe(r=>{this.storage.saveUser(r.body);let l=r.headers.get(Pe).length,x=r.headers.get(Pe).substring(7,l);return this.storage.saveToken(x),r}))}log(o){console.log("User Auth Service : "+o)}};e.\u0275fac=function(i){return new(i||e)(C(fe),C(v))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ne=(()=>{let e=class e{constructor(o,i,r,l){this.formBuilder=o,this.authService=i,this.snackkBar=r,this.router=l}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",f.required],password:["",f.required]})}login(){this.authService.login(this.loginForm.get("email")?.value,this.loginForm.get("password")?.value).subscribe(o=>{this.router.navigateByUrl("/user/dashboard")},o=>{this.snackkBar.open("Bad credentials","close",{duration:5e3,panelClass:["error-snackbar"]})})}};e.\u0275fac=function(i){return new(i||e)(s(F),s(q),s(P),s(b))},e.\u0275cmp=p({type:e,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"signup-container"],[1,"signup-card"],[1,"signup-caption"],[3,"formGroup"],[1,"form-input"],["matInput","","placeholder","Enter your email","name","email","type","email","required","","formControlName","email"],["matInput","","placeholder","Enter your password","name","password","type","password","required","","formControlName","password","autocomplete","new-password"],["mat-raised-button","","color","primary",1,"signup-button",3,"disabled","click"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"h2",2),n(4,"Login"),c(),a(5,"form",3)(6,"div",4)(7,"mat-form-field")(8,"mat-label"),n(9,"Email"),c(),d(10,"input",5),c()(),a(11,"div",4)(12,"mat-form-field")(13,"mat-label"),n(14,"Password"),c(),d(15,"input",6),c()(),a(16,"button",7),_("click",function(){return r.login()}),n(17," Login "),c()()()()()),i&2&&(w(5),u("formGroup",r.loginForm),w(11),u("disabled",r.loginForm.invalid))},dependencies:[k,j,O,B,N,z,L,E,S,D,R,A,T],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.signup-card[_ngcontent-%COMP%]{max-width:400px;width:90%;padding:20px;text-align:center}.signup-caption[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.form-input[_ngcontent-%COMP%]{margin-bottom:7px}.signup-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){.signup-button[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]{max-width:300px}}"]});let t=e;return t})();var Be=(()=>{let e=class e{constructor(o,i,r,l){this.formBuilder=o,this.authService=i,this.snackkBar=r,this.router=l}ngOnInit(){this.signupForm=this.formBuilder.group({name:["",f.required],email:["",f.required],password:["",f.required],confirmPassword:new xe("",f.compose([f.required]))},{validators:this.confirmateValidation})}confirmateValidation(o){let i=o.get("password")?.value,r=o.get("confirmPassword")?.value;i!=r?o.get("confirmPassword")?.setErrors({passwordMismatch:!0}):o.get("confirmPassword")?.setErrors(null)}signup(){console.log(this.signupForm?.value),this.authService.signup(this.signupForm?.value).subscribe(o=>{console.log(o),o.id!=null?(this.snackkBar.open("You're registered successfuly!","close",{duration:5e3}),this.router.navigateByUrl("/login")):this.snackkBar.open(o.message,"close",{duration:5e3})},o=>{this.snackkBar.open("Registration failed, Please try again later","close",{duration:5e3})})}};e.\u0275fac=function(i){return new(i||e)(s(F),s(q),s(P),s(b))},e.\u0275cmp=p({type:e,selectors:[["app-signup"]],decls:28,vars:2,consts:[[1,"signup-container"],[1,"signup-card"],[1,"signup-caption"],[3,"formGroup"],[1,"form-input"],["matInput","","placeholder","Enter your email","name","email","type","email","required","","formControlName","email"],["matInput","","placeholder","Enter your name","name","name","required","","formControlName","name"],["matInput","","placeholder","Enter your password","name","password","type","password","required","","formControlName","password","autocomplete","new-password"],["matInput","","placeholder","Confirm your password","name","confirmPassword","type","password","required","","formControlName","confirmPassword","autocomplete","new-password"],["mat-raised-button","","color","primary",1,"signup-button",3,"disabled","click"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"h2",2),n(4,"Signup"),c(),a(5,"form",3)(6,"div",4)(7,"mat-form-field")(8,"mat-label"),n(9,"Email"),c(),d(10,"input",5),c()(),a(11,"div",4)(12,"mat-form-field")(13,"mat-label"),n(14,"Name"),c(),d(15,"input",6),c()(),a(16,"div",4)(17,"mat-form-field")(18,"mat-label"),n(19,"Password"),c(),d(20,"input",7),c()(),a(21,"div",4)(22,"mat-form-field")(23,"mat-label"),n(24,"Confirm Password"),c(),d(25,"input",8),c()(),a(26,"button",9),_("click",function(){return r.signup()}),n(27," Signup "),c()()()()()),i&2&&(w(5),u("formGroup",r.signupForm),w(21),u("disabled",r.signupForm.invalid))},dependencies:[k,j,O,B,N,z,L,E,S,D,R,A,T],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.signup-card[_ngcontent-%COMP%]{max-width:400px;width:90%;padding:20px;text-align:center}.signup-caption[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.form-input[_ngcontent-%COMP%]{margin-bottom:7px}.signup-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){.signup-button[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]{max-width:300px}}"]});let t=e;return t})();var ie=(()=>{let e=class e{constructor(o){this.router=o}canActivate(o,i){return v.hasToken()?(this.router.navigateByUrl("/user/dashboard"),!1):!0}};e.\u0275fac=function(i){return new(i||e)(C(b))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ke=[{path:"login",component:Ne,canActivate:[ie]},{path:"signup",component:Be,canActivate:[ie]},{path:"user",loadChildren:()=>import("./chunk-NG7CZ7VF.mjs").then(t=>t.UserModule)}],ze=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({imports:[W.forRoot(Ke),W]});let t=e;return t})();var We=["*",[["mat-toolbar-row"]]],et=["*","mat-toolbar-row"],tt=Ee(class{constructor(t){this._elementRef=t}}),it=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=U({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});let t=e;return t})(),qe=(()=>{let e=class e extends tt{constructor(o,i,r){super(o),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(i){return new(i||e)(s(G),s(Ie),s(pe))},e.\u0275cmp=p({type:e,selectors:[["mat-toolbar"]],contentQueries:function(i,r,l){if(i&1&&me(l,it,5),i&2){let x;Z(x=J())&&(r._toolbarRows=x)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){i&2&&X("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Q],ngContentSelectors:et,decls:2,vars:0,template:function(i,r){i&1&&(Y(We),I(0),I(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Ve=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({imports:[y,y]});let t=e;return t})();function rt(t,e){t&1&&(ne(0),a(1,"mat-toolbar",2),d(2,"img",3)(3,"span",4),a(4,"button",5),n(5,"Login"),c(),a(6,"button",6),n(7,"Signup"),c()(),se())}function ct(t,e){if(t&1){let Xe=de();a(0,"mat-toolbar",2),d(1,"img",3)(2,"span",4),a(3,"button",7),n(4,"Dashboard"),c(),a(5,"button",8),n(6,"ExchangeAI"),c(),a(7,"button",9),n(8,"Post Question"),c(),a(9,"button",10),n(10,"My questions"),c(),a(11,"button",11),_("click",function(){ce(Xe);let i=le();return ae(i.logout())}),n(12,"Logout"),c()()}}var V=(()=>{let e=class e{constructor(o){this.router=o,this.title="CollaborationTool"}ngOnInit(){this.updateUserLoggedInStatus(),this.router.events.subscribe(o=>{o instanceof ve&&this.updateUserLoggedInStatus()})}updateUserLoggedInStatus(){this.isUserLoggedIn=v.isUserLoggedIn()}logout(){v.logout(),this.router.navigateByUrl("/login")}};e.\u0275fac=function(i){return new(i||e)(s(b))},e.\u0275cmp=p({type:e,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loggedInToolbar",""],["color","primary",1,"navbar"],["src","https://cdn.sstatic.net/Sites/stackoverflow/company/Img/logos/se/se-logo.svg?v=d29f0785ebb7","alt","Stackexchange logo",1,"logo"],[1,"spacer"],["mat-button","","routerLink","/login","routerLinkActive","active"],["mat-button","","routerLink","/signup","routerLinkActive","active"],["mat-button","","routerLink","/user/dashboard","routerLinkActive","active"],["mat-button","","routerLink","/user/ai-help","routerLinkActive","active"],["mat-button","","routerLink","/user/question","routerLinkActive","active"],["mat-button","","routerLink","/user/my_questions","routerLinkActive","active"],["mat-button","","routerLinkActive","active",3,"click"]],template:function(i,r){if(i&1&&(H(0,rt,8,0,"ng-container",0)(1,ct,13,0,"ng-template",null,1,he),d(3,"router-outlet")),i&2){let l=$(2);u("ngIf",!r.isUserLoggedIn)("ngIfElse",l)}},dependencies:[ue,ye,ke,Ce,qe,k],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.navbar-brand[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-right:16px}.spacer[_ngcontent-%COMP%]{flex:1}button[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;margin-left:8px}button.active[_ngcontent-%COMP%]{font-weight:600}.custom-toolbar[_ngcontent-%COMP%]{background-color:#ff3700}footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#f8f9fa;color:#000;text-align:center}.logo[_ngcontent-%COMP%]{width:200px;height:auto}"]});let t=e;return t})();var Ue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({});let t=e;return t})(),Ge=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=m({imports:[Ue,y,Se,Ue,y]});let t=e;return t})();var Qe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e,bootstrap:[V]}),e.\u0275inj=m({providers:[be()],imports:[ge,ze,we,Ge,Ve,De,Ae,Te,Re,K,ee,Me,Le,ee,K]});let t=e;return t})();var at=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e,bootstrap:[V]}),e.\u0275inj=m({imports:[Qe,_e]});let t=e;return t})();export{at as a};
