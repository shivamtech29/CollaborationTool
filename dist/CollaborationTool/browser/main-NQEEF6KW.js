import{$a as ve,A as p,Ac as Ae,B as V,Bc as z,Cb as Me,Cc as Te,Da as $,E as re,F as ce,Fa as le,Ga as Z,Ha as me,Ia as he,La as pe,P as U,Pb as k,R as w,Ra as ue,Rb as Ie,S as s,Sa as J,Ta as fe,Ua as ge,W as G,Wa as be,Xa as we,Y as u,Yb as Ee,Za as _e,_ as Q,_a as g,ab as ke,ba as X,bb as K,db as E,eb as f,ec as y,f as ie,ga as a,gb as S,gc as Se,ha as c,hb as D,ia as d,ja as ae,jb as ye,ka as ne,lb as L,ma as se,mb as A,nb as T,oa as _,ob as R,pa as de,pb as F,qa as H,qb as W,qc as P,ra as I,rb as Ce,rc as De,s as oe,sb as v,sc as j,ta as Y,tb as xe,tc as O,u as M,ua as n,uc as Le,v as m,vc as N,x as C,z as h,zc as B}from"./chunk-AMZL3I5S.js";var Re="http://localhost:5000/",Fe="Authorization",q=(()=>{let e=class e{constructor(o,i){this.http=o,this.storage=i}signup(o){return this.http.post(Re+"signup",o)}login(o,i){return this.http.post(Re+"auth",{email:o,password:i},{observe:"response"}).pipe(oe(r=>this.log("user Authentication")),ie(r=>{this.storage.saveUser(r.body);let l=r.headers.get(Fe).length,x=r.headers.get(Fe).substring(7,l);return this.storage.saveToken(x),r}))}log(o){console.log("User Auth Service : "+o)}};e.\u0275fac=function(i){return new(i||e)(C(ue),C(v))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oe=(()=>{let e=class e{constructor(o,i,r,l){this.formBuilder=o,this.authService=i,this.snackkBar=r,this.router=l}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",f.required],password:["",f.required]})}login(){this.authService.login(this.loginForm.get("email")?.value,this.loginForm.get("password")?.value).subscribe(o=>{this.router.navigateByUrl("/user/dashboard")},o=>{this.snackkBar.open("Bad credentials","close",{duration:5e3,panelClass:["error-snackbar"]})})}};e.\u0275fac=function(i){return new(i||e)(s(F),s(q),s(P),s(g))},e.\u0275cmp=h({type:e,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"signup-container"],[1,"signup-card"],[1,"signup-caption"],[3,"formGroup"],[1,"form-input"],["matInput","","placeholder","Enter your email","name","email","type","email","required","","formControlName","email"],["matInput","","placeholder","Enter your password","name","password","type","password","required","","formControlName","password","autocomplete","new-password"],["mat-raised-button","","color","primary",1,"signup-button",3,"disabled","click"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"h2",2),n(4,"Login"),c(),a(5,"form",3)(6,"div",4)(7,"mat-form-field")(8,"mat-label"),n(9,"Email"),c(),d(10,"input",5),c()(),a(11,"div",4)(12,"mat-form-field")(13,"mat-label"),n(14,"Password"),c(),d(15,"input",6),c()(),a(16,"button",7),_("click",function(){return r.login()}),n(17," Login "),c()()()()()),i&2&&(w(5),u("formGroup",r.loginForm),w(11),u("disabled",r.loginForm.invalid))},dependencies:[y,j,O,B,N,z,L,E,S,D,R,A,T],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.signup-card[_ngcontent-%COMP%]{max-width:400px;width:90%;padding:20px;text-align:center}.signup-caption[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.form-input[_ngcontent-%COMP%]{margin-bottom:7px}.signup-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){.signup-button[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]{max-width:300px}}"]});let t=e;return t})();var Ne=(()=>{let e=class e{constructor(o,i,r,l){this.formBuilder=o,this.authService=i,this.snackkBar=r,this.router=l}ngOnInit(){this.signupForm=this.formBuilder.group({name:["",f.required],email:["",f.required],password:["",f.required],confirmPassword:new ye("",f.compose([f.required]))},{validators:this.confirmateValidation})}confirmateValidation(o){let i=o.get("password")?.value,r=o.get("confirmPassword")?.value;i!=r?o.get("confirmPassword")?.setErrors({passwordMismatch:!0}):o.get("confirmPassword")?.setErrors(null)}signup(){console.log(this.signupForm?.value),this.authService.signup(this.signupForm?.value).subscribe(o=>{console.log(o),o.id!=null?(this.snackkBar.open("You're registered successfuly!","close",{duration:5e3}),this.router.navigateByUrl("/login")):this.snackkBar.open(o.message,"close",{duration:5e3})},o=>{this.snackkBar.open("Registration failed, Please try again later","close",{duration:5e3})})}};e.\u0275fac=function(i){return new(i||e)(s(F),s(q),s(P),s(g))},e.\u0275cmp=h({type:e,selectors:[["app-signup"]],decls:28,vars:2,consts:[[1,"signup-container"],[1,"signup-card"],[1,"signup-caption"],[3,"formGroup"],[1,"form-input"],["matInput","","placeholder","Enter your email","name","email","type","email","required","","formControlName","email"],["matInput","","placeholder","Enter your name","name","name","required","","formControlName","name"],["matInput","","placeholder","Enter your password","name","password","type","password","required","","formControlName","password","autocomplete","new-password"],["matInput","","placeholder","Confirm your password","name","confirmPassword","type","password","required","","formControlName","confirmPassword","autocomplete","new-password"],["mat-raised-button","","color","primary",1,"signup-button",3,"disabled","click"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"h2",2),n(4,"Signup"),c(),a(5,"form",3)(6,"div",4)(7,"mat-form-field")(8,"mat-label"),n(9,"Email"),c(),d(10,"input",5),c()(),a(11,"div",4)(12,"mat-form-field")(13,"mat-label"),n(14,"Name"),c(),d(15,"input",6),c()(),a(16,"div",4)(17,"mat-form-field")(18,"mat-label"),n(19,"Password"),c(),d(20,"input",7),c()(),a(21,"div",4)(22,"mat-form-field")(23,"mat-label"),n(24,"Confirm Password"),c(),d(25,"input",8),c()(),a(26,"button",9),_("click",function(){return r.signup()}),n(27," Signup "),c()()()()()),i&2&&(w(5),u("formGroup",r.signupForm),w(21),u("disabled",r.signupForm.invalid))},dependencies:[y,j,O,B,N,z,L,E,S,D,R,A,T],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.signup-card[_ngcontent-%COMP%]{max-width:400px;width:90%;padding:20px;text-align:center}.signup-caption[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.form-input[_ngcontent-%COMP%]{margin-bottom:7px}.signup-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){.signup-button[_ngcontent-%COMP%]   .signup-card[_ngcontent-%COMP%]{max-width:300px}}"]});let t=e;return t})();var te=(()=>{let e=class e{constructor(o){this.router=o}canActivate(o,i){return v.hasToken()?(this.router.navigateByUrl("/user/dashboard"),!1):!0}};e.\u0275fac=function(i){return new(i||e)(C(g))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ke=[{path:"login",component:Oe,canActivate:[te]},{path:"signup",component:Ne,canActivate:[te]},{path:"user",loadChildren:()=>import("./chunk-HJ6Z27WC.js").then(t=>t.UserModule)}],Be=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=m({imports:[K.forRoot(Ke),K]});let t=e;return t})();var We=["*",[["mat-toolbar-row"]]],et=["*","mat-toolbar-row"],tt=Ie(class{constructor(t){this._elementRef=t}}),it=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=V({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});let t=e;return t})(),ze=(()=>{let e=class e extends tt{constructor(o,i,r){super(o),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(i){return new(i||e)(s(U),s(xe),s(he))},e.\u0275cmp=h({type:e,selectors:[["mat-toolbar"]],contentQueries:function(i,r,l){if(i&1&&le(l,it,5),i&2){let x;$(x=Z())&&(r._toolbarRows=x)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){i&2&&Q("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0)},inputs:{color:"color"},exportAs:["matToolbar"],features:[G],ngContentSelectors:et,decls:2,vars:0,template:function(i,r){i&1&&(H(We),I(0),I(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var qe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=m({imports:[k,k]});let t=e;return t})();function rt(t,e){t&1&&(ae(0),a(1,"mat-toolbar",2),d(2,"img",3)(3,"span",4),a(4,"button",5),n(5,"Login"),c(),a(6,"button",6),n(7,"Signup"),c()(),ne())}function ct(t,e){if(t&1){let Xe=se();a(0,"mat-toolbar",2),d(1,"img",3)(2,"span",4),a(3,"button",7),n(4,"Dashboard"),c(),a(5,"button",8),n(6,"ExchangeAI"),c(),a(7,"button",9),n(8,"Post Question"),c(),a(9,"button",10),n(10,"My questions"),c(),a(11,"button",11),_("click",function(){re(Xe);let i=de();return ce(i.logout())}),n(12,"Logout"),c()()}}var Ve=(()=>{let e=class e{constructor(o){this.router=o,this.title="CollaborationTool"}ngOnInit(){this.updateUserLoggedInStatus(),this.router.events.subscribe(o=>{o instanceof we&&this.updateUserLoggedInStatus()})}updateUserLoggedInStatus(){this.isUserLoggedIn=v.isUserLoggedIn()}logout(){v.logout(),this.router.navigateByUrl("/login")}};e.\u0275fac=function(i){return new(i||e)(s(g))},e.\u0275cmp=h({type:e,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loggedInToolbar",""],["color","primary",1,"navbar"],["src","https://cdn.sstatic.net/Sites/stackoverflow/company/Img/logos/se/se-logo.svg?v=d29f0785ebb7","alt","Stackexchange logo",1,"logo"],[1,"spacer"],["mat-button","","routerLink","/login","routerLinkActive","active"],["mat-button","","routerLink","/signup","routerLinkActive","active"],["mat-button","","routerLink","/user/dashboard","routerLinkActive","active"],["mat-button","","routerLink","/user/ai-help","routerLinkActive","active"],["mat-button","","routerLink","/user/question","routerLinkActive","active"],["mat-button","","routerLink","/user/my_questions","routerLinkActive","active"],["mat-button","","routerLinkActive","active",3,"click"]],template:function(i,r){if(i&1&&(X(0,rt,8,0,"ng-container",0)(1,ct,13,0,"ng-template",null,1,me),d(3,"router-outlet")),i&2){let l=Y(2);u("ngIf",!r.isUserLoggedIn)("ngIfElse",l)}},dependencies:[pe,_e,ve,ke,ze,y],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.navbar-brand[_ngcontent-%COMP%]{font-size:20px;font-weight:500;margin-right:16px}.spacer[_ngcontent-%COMP%]{flex:1}button[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;margin-left:8px}button.active[_ngcontent-%COMP%]{font-weight:600}.custom-toolbar[_ngcontent-%COMP%]{background-color:#ff3700}footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#f8f9fa;color:#000;text-align:center}.logo[_ngcontent-%COMP%]{width:200px;height:auto}"]});let t=e;return t})();var Ue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=m({});let t=e;return t})(),Ge=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=m({imports:[Ue,k,Ee,Ue,k]});let t=e;return t})();var Qe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e,bootstrap:[Ve]}),e.\u0275inj=m({providers:[be()],imports:[ge,Be,Me,Ge,qe,Se,Le,Ae,Te,J,W,Ce,De,W,J]});let t=e;return t})();fe().bootstrapModule(Qe).catch(t=>console.error(t));
